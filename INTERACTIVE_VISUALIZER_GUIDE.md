# Interactive Graph Visualizer - 使用指南

## ✨ 功能特性

### 🎯 核心交互功能
- **节点拖拽**: 选择模式下可以移动节点位置
- **悬停高亮**: 鼠标悬停显示详细信息
- **点击交互**: 点击节点获取详细信息
- **缩放平移**: 鼠标滚轮缩放，拖拽平移视图
- **实时解析**: 代码修改后实时更新图形

### 🎨 视觉效果
- **颜色编码**: 蓝色=基础参数，绿色=计算参数
- **大小自适应**: 节点大小根据依赖数量自动调整
- **现代UI**: Bootstrap主题，响应式设计
- **清晰分离**: 左侧图形，右侧代码编辑器

## 🚀 快速开始

### 启动应用
```bash
python interactive_graph_visualizer.py
```

### 访问界面
- 应用启动后自动在浏览器中打开
- 手动访问: http://127.0.0.1:8050
- 支持Chrome、Firefox、Edge等现代浏览器

## 🎮 交互操作指南

### 图形区域操作
1. **查看详情**: 鼠标悬停在节点上
2. **选择节点**: 点击节点高亮选中
3. **缩放视图**: 鼠标滚轮或触控板缩放
4. **平移视图**: 拖拽空白区域移动视图
5. **选择模式**: 使用工具栏切换不同模式

### 代码编辑器操作
1. **编辑代码**: 在右侧文本框中直接编辑
2. **刷新图形**: 点击"Refresh Graph"按钮
3. **加载示例**: 点击"Load Sample"获取示例代码
4. **清空代码**: 点击"Clear Code"清空编辑器

### 高级交互
- **多节点选择**: 使用框选工具选择多个节点
- **工具栏**: 图形上方的工具栏提供多种操作模式
- **自动布局**: 节点位置根据依赖关系智能排列

## 💡 使用技巧

### 最佳实践
1. **代码格式**: 使用标准的Graph API格式
2. **节点命名**: 使用简洁明确的参数名
3. **依赖关系**: 保持清晰的依赖层次结构
4. **实时预览**: 修改代码后及时刷新查看效果

### 性能优化
- 节点数量建议控制在50个以内
- 复杂依赖关系可能需要手动调整布局
- 大型图形可以使用缩放功能查看细节

### 故障排除
1. **图形不显示**: 检查代码语法是否正确
2. **节点重叠**: 使用拖拽功能调整位置
3. **加载缓慢**: 减少节点数量或简化依赖关系

## 🎨 自定义选项

### 样式配置
- 节点颜色自动根据参数类型设置
- 节点大小根据依赖数量自动调整
- 边线样式表示依赖关系方向

### 布局算法
- 默认使用圆形布局
- 支持基于依赖关系的层次布局
- 节点位置可以手动调整

## 📝 代码示例

### 基础用法
```python
from core import Graph

g = Graph("示例图")
g["参数1"] = 10
g["参数2"] = 20

def 计算函数():
    return g["参数1"] + g["参数2"]

g.add_computed("结果", 计算函数, "计算结果")
```

### 复杂依赖
```python
# 多层依赖关系
def 中间计算():
    return g["基础1"] * g["基础2"]

def 最终结果():
    return g["中间值"] + g["基础3"]

g.add_computed("中间值", 中间计算, "中间计算")
g.add_computed("最终值", 最终结果, "最终结果")
```

## 🔧 技术规格

### 系统要求
- Python 3.8+
- 现代Web浏览器
- 8MB+ 可用内存

### 依赖包
- plotly: 图形渲染
- dash: Web应用框架
- dash-bootstrap-components: UI组件

### 浏览器兼容性
- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## 🚀 与matplotlib版本对比

| 功能 | Matplotlib版本 | Plotly版本 | 
|------|---------------|------------|
| 节点拖拽 | ❌ 不支持 | ✅ 原生支持 |
| 悬停效果 | ⚠️ 基础支持 | ✅ 丰富效果 |
| 缩放平移 | ⚠️ 有限支持 | ✅ 流畅体验 |
| 现代UI | ❌ 基础界面 | ✅ 现代设计 |
| 性能 | ⚠️ 中等 | ✅ 优秀 |
| 部署 | ✅ 本地GUI | ⚠️ 需要浏览器 |

## 🎉 总结

Interactive Graph Visualizer (Plotly版本) 提供了完整的现代化交互体验：

✅ **完全交互**: 支持节点拖拽、悬停、点击等所有交互功能  
✅ **现代设计**: 基于Bootstrap的响应式UI设计  
✅ **高性能**: 流畅的缩放、平移和实时更新  
✅ **易于使用**: 直观的双面板设计和丰富的操作反馈  
✅ **可扩展**: 基于Web技术，易于集成和扩展  

这个版本完美解决了您对节点拖拽和丰富交互功能的需求！