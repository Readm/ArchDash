# ArchDash æµ‹è¯•è¿ç§»è®¡åˆ’

## ğŸ“Š æµ‹è¯•åˆ†æç»“æœ

### æµ‹è¯•åˆ†ç±»ç»Ÿè®¡
- **æ€»æµ‹è¯•æ–‡ä»¶æ•°**: 80ä¸ªæµ‹è¯•æ–‡ä»¶
- **æ ¸å¿ƒé€»è¾‘æµ‹è¯•**: 17ä¸ª (T1xxç³»åˆ—)
- **UI/å¸ƒå±€æµ‹è¯•**: 29ä¸ª (T2xx, T4xx, T5xxç³»åˆ—)
- **ç¤ºä¾‹æµ‹è¯•**: 8ä¸ª (T3xxç³»åˆ—)
- **åŠŸèƒ½æµ‹è¯•**: 21ä¸ª (T4xxç³»åˆ—)
- **å…¶ä»–å·¥å…·ç±»**: 5ä¸ª

### ä¾èµ–å…³ç³»åˆ†æ
- **ä½¿ç”¨æ—§modelsç³»ç»Ÿ**: 65ä¸ªæµ‹è¯•æ–‡ä»¶
- **åŒ…å«Selenium UIæµ‹è¯•**: 37ä¸ªæµ‹è¯•æ–‡ä»¶
- **çº¯é€»è¾‘æµ‹è¯•**: çº¦28ä¸ªæµ‹è¯•æ–‡ä»¶

## ğŸ¯ æ ¸å¿ƒæµ‹è¯•è¿ç§»ä¼˜å…ˆçº§

### ğŸ”¥ æœ€é«˜ä¼˜å…ˆçº§ - ç«‹å³è¿ç§» (æ ¸å¿ƒé€»è¾‘)

è¿™äº›æµ‹è¯•ç›´æ¥å¯¹åº”æ–°Graphç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½ï¼š

#### 1. å‚æ•°åŸºç¡€åŠŸèƒ½ (å·²æœ‰å¯¹åº”åŠŸèƒ½)
- `test_T101_parameter_validation.py` â†’ **éœ€è¦è¿ç§»**
  - æµ‹è¯•å‚æ•°éªŒè¯é€»è¾‘
  - æ–°ç³»ç»Ÿå¯¹åº”ï¼šGraphåŸºç¡€å‚æ•°è®¾ç½®å’ŒéªŒè¯

#### 2. ä¾èµ–å…³ç³»ç®¡ç† (å·²æœ‰å¯¹åº”åŠŸèƒ½)
- `test_T102_parameter_dependencies.py` â†’ **éœ€è¦è¿ç§»**
  - æµ‹è¯•å‚æ•°ä¾èµ–å…³ç³»
  - æ–°ç³»ç»Ÿå¯¹åº”ï¼šè‡ªåŠ¨ä¾èµ–è¿½è¸ª
  
- `test_T115_dependency_chain_analysis.py` â†’ **éœ€è¦è¿ç§»**
  - æµ‹è¯•ä¾èµ–é“¾åˆ†æ
  - æ–°ç³»ç»Ÿå¯¹åº”ï¼šget_dependency_chain()

#### 3. è®¡ç®—å’Œæ›´æ–°ä¼ æ’­ (å·²æœ‰å¯¹åº”åŠŸèƒ½)
- `test_T103_parameter_calculation.py` â†’ **éœ€è¦è¿ç§»**
  - æµ‹è¯•å‚æ•°è®¡ç®—
  - æ–°ç³»ç»Ÿå¯¹åº”ï¼šadd_computed()åŠŸèƒ½
  
- `test_T112_parameter_update_propagation.py` â†’ **éœ€è¦è¿ç§»**
  - æµ‹è¯•æ›´æ–°ä¼ æ’­
  - æ–°ç³»ç»Ÿå¯¹åº”ï¼šè‡ªåŠ¨åˆ·æ–°å’Œrefresh_dependents()

#### 4. è®¡ç®—å›¾æ ¸å¿ƒåŠŸèƒ½ (å·²æœ‰å¯¹åº”åŠŸèƒ½)
- `test_T107_calculation_graph.py` â†’ **éœ€è¦è¿ç§»**
  - æµ‹è¯•è®¡ç®—å›¾åŸºç¡€åŠŸèƒ½
  - æ–°ç³»ç»Ÿå¯¹åº”ï¼šGraphç±»æ ¸å¿ƒåŠŸèƒ½

#### 5. é”™è¯¯å¤„ç† (å·²æœ‰å¯¹åº”åŠŸèƒ½)
- `test_T108_missing_dependency.py` â†’ **éœ€è¦è¿ç§»**
  - æµ‹è¯•ç¼ºå¤±ä¾èµ–å¤„ç†
  - æ–°ç³»ç»Ÿå¯¹åº”ï¼šé”™è¯¯å¤„ç†æœºåˆ¶
  
- `test_T114_propagate_updates_with_calculation_errors.py` â†’ **éœ€è¦è¿ç§»**
  - æµ‹è¯•è®¡ç®—é”™è¯¯å¤„ç†
  - æ–°ç³»ç»Ÿå¯¹åº”ï¼šè®¡ç®—é”™è¯¯å¤„ç†

#### 6. æ•°æ®åºåˆ—åŒ– (å·²æœ‰å¯¹åº”åŠŸèƒ½)
- `test_T116_save_and_load_graph.py` â†’ **éœ€è¦è¿ç§»**
  - æµ‹è¯•å›¾çš„ä¿å­˜å’ŒåŠ è½½
  - æ–°ç³»ç»Ÿå¯¹åº”ï¼šsave()å’Œto_dict()åŠŸèƒ½

### ğŸ”¶ ä¸­ç­‰ä¼˜å…ˆçº§ - åç»­è¿ç§»

#### 7. è®¡ç®—å‡½æ•°å®‰å…¨æ€§
- `test_T104_calculation_function_safety.py` â†’ **éœ€è¦è¿ç§»**
  - æµ‹è¯•è®¡ç®—å‡½æ•°çš„å®‰å…¨æ€§
  - æ–°ç³»ç»Ÿå¯¹åº”ï¼šè®¡ç®—å‡½æ•°æ‰§è¡Œå®‰å…¨

#### 8. è®¡ç®—å‡½æ•°ä½œç”¨åŸŸ
- `test_T105_calculation_function_scope.py` â†’ **éœ€è¦è¿ç§»**
  - æµ‹è¯•è®¡ç®—å‡½æ•°ä½œç”¨åŸŸ
  - æ–°ç³»ç»Ÿå¯¹åº”ï¼šå‡½æ•°æ‰§è¡Œç¯å¢ƒ

#### 9. å¾ªç¯ä¾èµ–æ£€æµ‹
- `test_T113_circular_dependency_detection.py` â†’ **éœ€è¦è¿ç§»**
  - æµ‹è¯•å¾ªç¯ä¾èµ–æ£€æµ‹
  - æ–°ç³»ç»Ÿå¯¹åº”ï¼šå¾ªç¯ä¾èµ–æ£€æµ‹æœºåˆ¶

#### 10. èŠ‚ç‚¹æ“ä½œ
- `test_T106_node_operations.py` â†’ **éƒ¨åˆ†è¿ç§»**
  - æµ‹è¯•èŠ‚ç‚¹æ“ä½œ
  - æ–°ç³»ç»Ÿå¯¹åº”ï¼šå‚æ•°åˆ†ç»„åŠŸèƒ½

### ğŸ”· ä½ä¼˜å…ˆçº§ - é€‰æ‹©æ€§è¿ç§»

#### 11. é€šç”¨é”™è¯¯å¤„ç†
- `test_T117_error_handling.py` â†’ **å¯é€‰è¿ç§»**
  - é€šç”¨é”™è¯¯å¤„ç†æµ‹è¯•

#### 12. æ€§èƒ½æµ‹è¯•
- `test_T308_example_performance.py` â†’ **å¯é€‰è¿ç§»**
  - æ€§èƒ½æµ‹è¯•ï¼Œå¯ç”¨äºå¯¹æ¯”

### âŒ ä¸éœ€è¦è¿ç§»çš„æµ‹è¯•

ä»¥ä¸‹æµ‹è¯•ä¸»è¦é’ˆå¯¹GUIå’Œå¸ƒå±€åŠŸèƒ½ï¼Œæ–°Graphç³»ç»Ÿä¸æ¶‰åŠï¼š

#### UI/å¸ƒå±€æµ‹è¯• (T2xx, T4xx, T5xxç³»åˆ—)
- æ‰€æœ‰T2xxç³»åˆ—ï¼ˆUIæ¸²æŸ“ï¼‰
- æ‰€æœ‰T4xxç³»åˆ—ï¼ˆå¸ƒå±€ç®¡ç†ï¼‰
- æ‰€æœ‰T5xxç³»åˆ—ï¼ˆç•Œé¢äº¤äº’ï¼‰

#### ç¤ºä¾‹æµ‹è¯• (T3xxç³»åˆ—)
- å¤§éƒ¨åˆ†T3xxç³»åˆ—ï¼ˆç¤ºä¾‹åŠŸèƒ½ï¼‰

## ğŸ“‹ è¿ç§»å®æ–½è®¡åˆ’

### é˜¶æ®µ1: æ ¸å¿ƒåŠŸèƒ½è¿ç§» (ç¬¬1å‘¨)

#### Day 1-2: åŸºç¡€åŠŸèƒ½è¿ç§»
- [ ] **T101_parameter_validation** â†’ `test_new_parameter_validation.py`
- [ ] **T103_parameter_calculation** â†’ `test_new_parameter_calculation.py`
- [ ] **T107_calculation_graph** â†’ `test_new_graph_core.py`

#### Day 3-4: ä¾èµ–å…³ç³»è¿ç§»
- [ ] **T102_parameter_dependencies** â†’ `test_new_dependency_tracking.py`
- [ ] **T115_dependency_chain_analysis** â†’ `test_new_dependency_analysis.py`
- [ ] **T112_parameter_update_propagation** â†’ `test_new_update_propagation.py`

#### Day 5: é”™è¯¯å¤„ç†å’Œåºåˆ—åŒ–
- [ ] **T108_missing_dependency** â†’ `test_new_error_handling.py`
- [ ] **T114_propagate_updates_with_calculation_errors** â†’ `test_new_calculation_errors.py`
- [ ] **T116_save_and_load_graph** â†’ `test_new_serialization.py`

### é˜¶æ®µ2: é«˜çº§åŠŸèƒ½è¿ç§» (ç¬¬2å‘¨)

#### Day 1-2: å®‰å…¨æ€§å’Œä½œç”¨åŸŸ
- [ ] **T104_calculation_function_safety** â†’ `test_new_function_safety.py`
- [ ] **T105_calculation_function_scope** â†’ `test_new_function_scope.py`

#### Day 3-4: å¾ªç¯ä¾èµ–å’ŒèŠ‚ç‚¹æ“ä½œ
- [ ] **T113_circular_dependency_detection** â†’ `test_new_circular_dependency.py`
- [ ] **T106_node_operations** â†’ `test_new_parameter_grouping.py`

#### Day 5: æ€§èƒ½å’Œé›†æˆæµ‹è¯•
- [ ] **T117_error_handling** â†’ `test_new_comprehensive_errors.py`
- [ ] **T308_example_performance** â†’ `test_new_performance.py`

## ğŸ”§ è¿ç§»æŠ€æœ¯æ–¹æ¡ˆ

### 1. æµ‹è¯•æ–‡ä»¶ç»“æ„
```
tests/
â”œâ”€â”€ new_graph_tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ test_new_parameter_validation.py
â”‚   â”œâ”€â”€ test_new_parameter_calculation.py
â”‚   â”œâ”€â”€ test_new_dependency_tracking.py
â”‚   â”œâ”€â”€ test_new_dependency_analysis.py
â”‚   â”œâ”€â”€ test_new_update_propagation.py
â”‚   â”œâ”€â”€ test_new_graph_core.py
â”‚   â”œâ”€â”€ test_new_error_handling.py
â”‚   â”œâ”€â”€ test_new_calculation_errors.py
â”‚   â”œâ”€â”€ test_new_serialization.py
â”‚   â””â”€â”€ ...
â””â”€â”€ old_tests/ (ä¿ç•™åŸæœ‰æµ‹è¯•)
```

### 2. æµ‹è¯•ä»£ç æ¨¡æ¿
```python
#!/usr/bin/env python3
"""
æµ‹è¯•æ–°Graphç³»ç»Ÿçš„[åŠŸèƒ½åç§°]
ä»æ—§æµ‹è¯• test_T[xxx] è¿ç§»è€Œæ¥
"""

import pytest
from core import Graph

def test_[åŠŸèƒ½åç§°]():
    """æµ‹è¯•[åŠŸèƒ½æè¿°]"""
    # ä½¿ç”¨æ–°çš„Graph API
    g = Graph("æµ‹è¯•")
    
    # å…·ä½“æµ‹è¯•é€»è¾‘
    # ...
    
    assert [éªŒè¯æ¡ä»¶]

def test_[åŠŸèƒ½åç§°]_edge_cases():
    """æµ‹è¯•[åŠŸèƒ½åç§°]çš„è¾¹ç•Œæƒ…å†µ"""
    # è¾¹ç•Œæƒ…å†µæµ‹è¯•
    # ...
```

### 3. æµ‹è¯•è¿è¡Œé…ç½®
```python
# pytest.ini æ·»åŠ æ–°çš„æµ‹è¯•è·¯å¾„
[tool:pytest]
testpaths = tests/new_graph_tests tests/old_tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
```

## ğŸ“Š è¿ç§»æˆåŠŸæŒ‡æ ‡

### åŠŸèƒ½è¦†ç›–ç‡
- [ ] æ ¸å¿ƒåŠŸèƒ½æµ‹è¯•è¦†ç›–ç‡ â‰¥ 90%
- [ ] ä¾èµ–å…³ç³»æµ‹è¯•è¦†ç›–ç‡ â‰¥ 95%
- [ ] é”™è¯¯å¤„ç†æµ‹è¯•è¦†ç›–ç‡ â‰¥ 85%
- [ ] æ€§èƒ½æµ‹è¯•åŸºå‡†å»ºç«‹

### æµ‹è¯•è´¨é‡
- [ ] æ‰€æœ‰è¿ç§»æµ‹è¯•é€šè¿‡
- [ ] æ–°æµ‹è¯•æ‰§è¡Œæ—¶é—´ â‰¤ åŸæµ‹è¯•çš„150%
- [ ] æµ‹è¯•ä»£ç å¯è¯»æ€§å’Œç»´æŠ¤æ€§è‰¯å¥½
- [ ] æµ‹è¯•ç”¨ä¾‹çš„è¾¹ç•Œæƒ…å†µè¦†ç›–å®Œæ•´

### å…¼å®¹æ€§éªŒè¯
- [ ] æ–°æ—§ç³»ç»ŸåŠŸèƒ½å¯¹ç­‰æ€§éªŒè¯
- [ ] æ€§èƒ½å¯¹æ¯”æµ‹è¯•
- [ ] é”™è¯¯å¤„ç†è¡Œä¸ºä¸€è‡´æ€§éªŒè¯

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³å¼€å§‹ (ä»Šå¤©)
1. åˆ›å»º `tests/new_graph_tests/` ç›®å½•
2. å¼€å§‹è¿ç§» `test_T101_parameter_validation.py`
3. å»ºç«‹æµ‹è¯•åŸºç¡€æ¡†æ¶å’Œå·¥å…·å‡½æ•°

### æœ¬å‘¨å®Œæˆ
1. å®Œæˆç¬¬ä¸€é˜¶æ®µçš„9ä¸ªæ ¸å¿ƒæµ‹è¯•è¿ç§»
2. éªŒè¯æ‰€æœ‰è¿ç§»æµ‹è¯•é€šè¿‡
3. å»ºç«‹æŒç»­é›†æˆæµç¨‹

### ä¸‹å‘¨ç›®æ ‡
1. å®Œæˆç¬¬äºŒé˜¶æ®µçš„é«˜çº§åŠŸèƒ½æµ‹è¯•è¿ç§»
2. è¿›è¡Œæ€§èƒ½å¯¹æ¯”æµ‹è¯•
3. å®Œå–„æµ‹è¯•æ–‡æ¡£å’Œç»´æŠ¤æŒ‡å—

è¿™ä¸ªè®¡åˆ’ç¡®ä¿äº†æ ¸å¿ƒåŠŸèƒ½çš„æµ‹è¯•è¦†ç›–ï¼ŒåŒæ—¶é¿å…äº†ä¸å¿…è¦çš„UIæµ‹è¯•è¿ç§»å·¥ä½œã€‚